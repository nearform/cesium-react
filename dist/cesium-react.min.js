!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("cesium"),require("prop-types"),require("react"),require("react-dom/server.browser")):"function"==typeof define&&define.amd?define(["exports","cesium","prop-types","react","react-dom/server.browser"],n):n(e.CesiumReact={},e.Cesium,e.PropTypes,e.React,e.ReactDOMServer)}(this,function(e,n,t,r,o){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r,o=o&&o.hasOwnProperty("default")?o.default:o;var i=t.instanceOf(n.Camera),a=t.instanceOf(n.Cesium3DTileset),s=t.instanceOf(n.CesiumWidget),u=t.instanceOf(n.DataSourceCollection),c=t.instanceOf(n.EntityCollection),l=t.instanceOf(n.ImageryLayerCollection),m=t.instanceOf(n.PointPrimitiveCollection),d=t.instanceOf(n.PrimitiveCollection),y=t.instanceOf(n.Scene),h=t.instanceOf(n.ScreenSpaceEventHandler),f=t.instanceOf(n.Viewer),v=Object.freeze({cameraType:i,cesium3DTilesetType:a,cesiumWidgetType:s,dataSourceCollectionType:u,entityCollectionType:c,imageryLayerCollectionType:l,pointPrimitiveCollectionType:m,primitiveCollectionType:d,sceneType:y,screenSpaceEventHandlerType:h,viewerType:f}),g=r.createContext(null),E=r.createContext(null),C=r.createContext(),b=r.createContext(),S=r.createContext(),w=r.createContext(),P=r.createContext(),T=r.createContext(),D=r.createContext(),O=r.createContext(),k=Object.freeze({Cesium3DTilesetContext:g,ViewerContext:E,CameraContext:C,CesiumWidgetContext:b,DataSourcesContext:S,EntitiesContext:w,PointPrimitiveCollectionContext:P,PrimitiveCollectionContext:T,SceneContext:D,ScreenSpaceEventHandlerContext:O});function x(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,n,t){return n&&x(e.prototype,n),t&&x(e,t),e}function R(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function L(){return(L=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function F(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){R(e,n,t[n])})}return e}function j(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var B=function(e,n){Object.entries(n).forEach(function(n){var t=n[0],r=n[1];"function"==typeof r&&e[t].addEventListener(r)})},V=function(e,n){Object.entries(n).forEach(function(n){var t=n[0],r=n[1];"function"==typeof r&&e[t].removeEventListener(r)})},A=function(e,n){return e.reduce(function(e,t){var r,o="on"+t[0].toUpperCase()+t.slice(1).replace(/Event$/,"");return"function"==typeof n[o]?F({},e,((r={})[t]=n[o],r)):e},{})},W=function(e){function n(n){var t;return(t=e.call(this,n)||this).cesiumElement=null,t._mounted=!1,t.constructor.initCesiumComponentWhenComponentDidMount||t._create(),t}j(n,e);var t=n.prototype;return t.componentDidMount=function(){this.constructor.initCesiumComponentWhenComponentDidMount&&this._create(),this._mount()},t.componentDidUpdate=function(e){var n,t,r,o,i,a,s,u=this.cesiumElement;if(u){var c=this.getCesiumEvents();n=u,t=A(c,e),r=A(c,this.props),o=Object.keys(t),i=Object.keys(r),a=o.map(function(e){return[e,t[e]]}).reduce(function(e,n){var t=n[0],o=n[1];return-1!==i.indexOf(t)&&o===r[t]&&"function"==typeof o||(e[t]=o),e},{}),s=i.map(function(e){return[e,r[e]]}).reduce(function(e,n){var r=n[0],i=n[1];return-1!==o.indexOf(r)&&i===t[r]||"function"!=typeof i||(e[r]=i),e},{}),V(n,a),B(n,s)}var l=this.props;if(this.getCesiumReadOnlyProps().some(function(n){return e[n]!==l[n]}))this._remount();else{this.getCesiumProps().filter(function(n){return e[n]!==l[n]}).forEach(function(e){u[e]=l[e]}),this.updateCesiumElement&&this.updateCesiumElement(u,e);var p=this.props.onUpdate;p&&p(u,e)}},t.componentWillUnmount=function(){this._unmount()},t.getCesiumEvents=function(){return this.constructor.cesiumEvents||[]},t.getCesiumProps=function(){return this.constructor.cesiumProps||[]},t.getCesiumReadOnlyProps=function(){return this.constructor.cesiumReadOnlyProps||[]},t.getPropsForCesium=function(){var e=this;return this.getCesiumProps().concat(this.getCesiumReadOnlyProps()).reduce(function(n,t){var r;return void 0===e.props[t]?n:F({},n,((r={})[t]=e.props[t],r))},{})},t._create=function(){var e=this;this.createCesiumElement&&(this.cesiumElement=this.createCesiumElement(this.getPropsForCesium()),this.constructor.setCesiumOptionsAfterCreate&&this.cesiumElement&&this.getCesiumProps().filter(function(n){return void 0!==e.props[n]}).forEach(function(n){e.cesiumElement[n]=e.props[n]}),this.cesiumElement&&B(this.cesiumElement,A(this.getCesiumEvents(),this.props)))},t._mount=function(){this.mountCesiumElement&&this.mountCesiumElement(this.cesiumElement);var e=this.props.onMount;e&&e(this.cesiumElement),this._mounted=!0,this.forceUpdate()},t._unmount=function(){var e=this.cesiumElement,n=this.props.onUnmount;n&&n(e),e&&V(e,A(this.getCesiumEvents(),this.props)),this.destroyCesiumElement&&this.destroyCesiumElement(e),this.cesiumElement=null},t._remount=function(){this._unmount(),this._create(),this._mount()},t.render=function(){var e=this.props.children;return this._mounted&&void 0!==e&&!this.constructor.cesiumNoRender?e:null},n}(r.PureComponent);W.propTypes={children:t.any,onMount:t.func,onUnmount:t.func,onUpdate:t.func};var _=function(e){function t(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).element=null,n}j(t,e);var o=t.prototype;return o.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.forceUpdate()},o.createCesiumElement=function(e){if(this.element){var t=new n.Viewer(this.element,e);if(!t)return null;var r=this.props.extend;return r&&(Array.isArray(r)?r.forEach(function(e){t.extend(e)}):t.extend(r)),t}return null},o.updateCesiumElement=function(e,n){e&&(this.props.selectedEntity!==n.selectedEntity&&(e.selectedEntity=this.props.selectedEntity),this.props.trackedEntity!==n.trackedEntity&&(e.trackedEntity=this.props.trackedEntity))},o.destroyCesiumElement=function(e){e&&e.destroy()},o.render=function(){var e=this,n=this.props,t=n.children,o=n.containerProps,i=n.className,a=n.full,s=n.id,u=n.style;return r.createElement("div",L({className:i,id:s,ref:function(n){e.element=n},style:F({},a?{position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}:{},u)},o),this.cesiumElement?r.createElement(E.Provider,{value:this.cesiumElement},r.createElement(D.Provider,{value:this.cesiumElement.scene},r.createElement(w.Provider,{value:this.cesiumElement.entities},r.createElement(S.Provider,{value:this.cesiumElement.dataSourceDisplay.dataSources},t)))):null)},t}(W);_.propTypes=F({},W.propTypes,{animation:t.any,automaticallyTrackDataSourceClocks:t.any,baseLayerPicker:t.any,children:t.any,className:t.string,clockViewModel:t.any,containerProps:t.object,contextOptions:t.any,creditContainer:t.any,creditViewport:t.any,dataSources:t.any,extend:t.oneOfType([t.arrayOf(t.any),t.any]),full:t.bool,fullscreenButton:t.any,fullscreenElement:t.any,geocoder:t.any,globe:t.any,homeButton:t.any,id:t.string,imageryProvider:t.any,imageryProviderViewModels:t.any,infoBox:t.any,mapMode2D:t.any,mapProjection:t.any,navigationHelpButton:t.any,navigationInstructionsInitiallyVisible:t.any,onSelectedEntityChanged:t.func,onTrackedEntityChanged:t.func,orderIndependentTranslucency:t.any,projectionPicker:t.any,scene3DOnly:t.any,sceneMode:t.any,sceneModePicker:t.any,selectedEntity:t.any,selectedImageryProviderViewModel:t.any,selectedTerrainProviderViewModel:t.any,selectionIndicator:t.any,shadows:t.any,showRenderLoopErrors:t.any,skyAtmosphere:t.any,skyBox:t.any,style:t.object,targetFrameRate:t.any,terrainExaggeration:t.any,terrainProvider:t.any,terrainProviderViewModels:t.any,terrainShadows:t.any,timeline:t.any,trackedEntity:t.any,useDefaultRenderLoop:t.any,vrButton:t.any}),_.defaultProps={style:{}},_.cesiumProps=["animation","baseLayerPicker","fullscreenButton","vrButton","geocoder","homeButton","infoBox","sceneModePicker","selectionIndicator","timeline","navigationHelpButton","navigationInstructionsInitiallyVisible","scene3DOnly","clockViewModel","selectedImageryProviderViewModel","imageryProviderViewModels","selectedTerrainProviderViewModel","terrainProviderViewModels","imageryProvider","terrainProvider","skyBox","skyAtmosphere","fullscreenElement","useDefaultRenderLoop","targetFrameRate","showRenderLoopErrors","automaticallyTrackDataSourceClocks","contextOptions","sceneMode","mapProjection","globe","orderIndependentTranslucency","creditContainer","creditViewport","dataSources","terrainExaggeration","shadows","terrainShadows","mapMode2D","projectionPicker"],_.cesiumEvents=["selectedEntityChanged","trackedEntityChanged"],_.initCesiumComponentWhenComponentDidMount=!0;var U=function(e){function t(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).element=null,n}j(t,e);var o=t.prototype;return o.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.forceUpdate()},o.createCesiumElement=function(e){return this.element?new n.CesiumWidget(this.element,e):null},o.destroyCesiumElement=function(e){e.destroy()},o.render=function(){var e=this,n=this.props,t=n.children,o=n.containerProps,i=n.className,a=n.full,s=n.id,u=n.style;return r.createElement("div",L({className:i,id:s,ref:function(n){e.element=n},style:F({},a?{position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}:{},u)},o),this.cesiumElement?r.createElement(b.Provider,{value:this.cesiumElement},r.createElement(D.Provider,{value:this.cesiumElement.scene},t)):null)},t}(W);U.propTypes=F({},W.propTypes,{children:t.any,className:t.string,clock:t.any,containerProps:t.object,contextOptions:t.any,creditContainer:t.any,creditViewport:t.any,full:t.bool,globe:t.any,id:t.string,imageryProvider:t.any,mapMode2D:t.any,mapProjection:t.any,orderIndependentTranslucency:t.any,scene3DOnly:t.any,sceneMode:t.any,shadows:t.any,showRenderLoopErrors:t.any,skyAtmosphere:t.any,skyBox:t.any,style:t.object,targetFrameRate:t.any,terrainExaggeration:t.any,terrainProvider:t.any,terrainShadows:t.any,useDefaultRenderLoop:t.any}),U.defaultProps={style:{}},U.cesiumProps=["scene3DOnly","clock","imageryProvider","terrainProvider","skyBox","skyAtmosphere","useDefaultRenderLoop","targetFrameRate","showRenderLoopErrors","contextOptions","sceneMode","mapProjection","globe","orderIndependentTranslucency","creditContainer","creditViewport","terrainExaggeration","shadows","terrainShadows","mapMode2D"],U.initCesiumComponentWhenComponentDidMount=!0;var H=function(e){function t(){return e.apply(this,arguments)||this}j(t,e);var r=t.prototype;return r.createCesiumElement=function(){var e=this.context.cesiumWidget.scene;return void 0!==this.props.mode&&this._changeMode(e),e},r.updateCesiumElement=function(e,n){n.mode!==this.props.mode&&this._changeMode(e)},r._changeMode=function(e){var t=this.props,r=t.mode,o=t.morph;if("number"==typeof r)if("number"==typeof o)switch(r){case n.SceneMode.SCENE2D:e.morphTo2D(o);break;case n.SceneMode.COLUMBUS_VIEW:e.morphToColumbusView(o);break;case n.SceneMode.SCENE3D:e.morphTo3D(o);break;default:e.mode=r}else e.mode=r},r.render=function(){return React.createElement(D.Provider,{value:this.cesiumElement},this.props.children)},t}(W);H.propTypes=F({},W.propTypes,{backgroundColor:t.any,canvas:t.any,completeMorphOnUserInput:t.any,debugCommandFilter:t.any,debugShowCommands:t.any,debugShowDepthFrustum:t.any,debugShowFramesPerSecond:t.any,debugShowFrustumPlanes:t.any,debugShowFrustums:t.any,debugShowGlobeDepth:t.any,eyeSeparation:t.any,farToNearRatio:t.any,focalLength:t.any,fog:t.any,fxaa:t.any,globe:t.any,imagerySplitPosition:t.any,invertClassification:t.any,invertClassificationColor:t.any,mapMode2D:t.any,mapProjection:t.any,minimumDisableDepthTestDistance:t.any,mode:t.any,moon:t.any,morph:t.number,nearToFarDistance2D:t.any,onMorphComplete:t.func,onMorphStart:t.func,onPostRender:t.func,onPreRender:t.func,onRenderError:t.func,onTerrainProviderChanged:t.func,pickTranslucentDepth:t.any,rethrowRenderErrors:t.any,shadowMap:t.any,skyAtmosphere:t.any,skyBox:t.any,sun:t.any,sunBloom:t.any,terrainExaggeration:t.any,terrainProvider:t.any,useDepthPicking:t.any,useWebVR:t.any}),H.contextTypes={cesiumWidget:s},H.cesiumProps=["backgroundColor","canvas","completeMorphOnUserInput","debugCommandFilter","debugShowCommands","debugShowDepthFrustum","debugShowFramesPerSecond","debugShowFrustumPlanes","debugShowFrustums","debugShowGlobeDepth","eyeSeparation","farToNearRatio","focalLength","fog","fxaa","globe","imagerySplitPosition","invertClassification","invertClassificationColor","mapMode2D","mapProjection","minimumDisableDepthTestDistance","moon","nearToFarDistance2D","pickTranslucentDepth","rethrowRenderErrors","shadowMap","skyAtmosphere","skyBox","sun","sunBloom","terrainExaggeration","terrainProvider","useDepthPicking","useWebVR"],H.cesiumEvents=["morphComplete","morphStart","postRender","preRender","renderError","terrainProviderChanged"],H.setCesiumOptionsAfterCreate=!0;var I=function(e){function n(){return e.apply(this,arguments)||this}j(n,e);var t=n.prototype;return t.createCesiumElement=function(){var e=this.props.scene.camera;return"object"==typeof this.props.viewBoundingSphere?e.viewBoundingSphere(this.props.viewBoundingSphere.boundingSphere,this.props.viewBoundingSphere.offset):"object"==typeof this.props.view&&e.setView(this.props.view),e},t.updateCesiumElement=function(e,n){this.props.view!==n.viewBoundingSphere&&"object"==typeof this.props.viewBoundingSphere?e.viewBoundingSphere(this.props.viewBoundingSphere.boundingSphere,this.props.viewBoundingSphere.offset):this.props.view!==n.view&&"object"==typeof this.props.view&&e.setView(this.props.view)},t.render=function(){return React.createElement(C.Provider,{value:this.cesiumElement},this.props.children)},n}(W);I.propTypes=F({},W.propTypes,{constrainedAxis:t.func,defaultLookAmount:t.any,defaultMoveAmount:t.any,defaultRotateAmount:t.any,defaultZoomAmount:t.any,direction:t.any,frustum:t.any,maximumZoomFactor:t.any,onChanged:t.func,onMoveEnd:t.func,onMoveStart:t.func,percentageChanged:t.any,position:t.any,right:t.any,up:t.any,view:t.object,viewBoundingSphere:t.shape({boundingSphere:t.any,offset:t.any})}),I.cesiumProps=["constrainedAxis","defaultLookAmount","defaultMoveAmount","defaultRotateAmount","defaultZoomAmount","direction","frustum","maximumZoomFactor","percentageChanged","position","right","up"],I.cesiumEvents=["changed","moveEnd","moveStart"],I.setCesiumOptionsAfterCreate=!0;var z=function(e){function t(){return e.apply(this,arguments)||this}j(t,e);var r=t.prototype;return r.createCesiumElement=function(e){var t=new n.Entity(e);return this.props.children&&(t.description=o.renderToStaticMarkup(this.props.children)),t},r.mountCesiumElement=function(e){this.props.entities.add(e)},r.updateCesiumElement=function(e,n){n.children!==this.props.children&&(this.props.children?e.description=o.renderToStaticMarkup(this.props.children):e.description=this.props.description)},r.destroyCesiumElement=function(e){var n=this.props.entities;n&&n.remove(e)},M(t,[{key:"parent",get:function(){var e=this.props.entities.entities;return e||null}}]),t}(W);z.propTypes=F({},W.propTypes,{availability:t.any,billboard:t.any,box:t.any,children:t.any,corridor:t.any,cylinder:t.any,description:t.any,ellipse:t.any,ellipsoid:t.any,id:t.string,label:t.any,model:t.any,name:t.any,onDefinitionChanged:t.func,orientation:t.any,parent:t.any,path:t.any,plane:t.any,point:t.any,polygon:t.any,polyline:t.any,polylineVolume:t.any,position:t.any,properties:t.any,rectangle:t.any,show:t.any,viewFrom:t.any,wall:t.any}),z.cesiumProps=["availability","show","description","position","orientation","viewFrom","parent","billboard","box","corridor","cylinder","ellipse","ellipsoid","label","model","name","path","plane","point","polygon","polyline","properties","polylineVolume","rectangle","wall"],z.cesiumReadOnlyProps=["id"],z.cesiumEvents=["definitionChanged"],z.cesiumNoRender=!0;var q=function(e){function n(){return e.apply(this,arguments)||this}j(n,e);var t=n.prototype;return t.componentWillMount=function(){e.prototype.componentWillMount.call(this),this.cesiumElement&&(this.props.clock&&(this.cesiumElement.clock=this.props.clock),this.props.clustering&&(this.cesiumElement.clustering=this.props.clustering),this.props.name&&(this.cesiumElement.name=this.props.name),!0!==this.props.show&&!1!==this.props.show||(this.cesiumElement.show=this.props.show))},t.createCesiumElement=function(){throw new Error("DataSource#createCesiumElement is not implemented")},t.mountCesiumElement=function(e){this.parent.add(e)},t.destroyCesiumElement=function(e){var n=this.parent;n&&n.remove(e)},t.render=function(){return React.createElement(w.Provider,{value:this.cesiumElement.entities},this.props.children)},M(n,[{key:"parent",get:function(){var e=this.props.dataSources;return e&&!e.isDestroyed()?e:null}}]),n}(W);q.propTypes={clock:t.any,clustering:t.any,name:t.string,onChanged:t.func,onError:t.func,onLoading:t.func,show:t.bool},q.cesiumProps=["clock","clustering","name","show"],q.cesiumEvents=["changedEvent","errorEvent","loadingEvent"];var G=function(e){return React.createElement(S.Consumer,null,function(n){return React.createElement(q,L({},e,{dataSources:n}))})};G.propTypes=q.propTypes,G.cesiumProps=q.cesiumProps,G.cesiumEvents=q.cesiumEvents;var N=function(e){function t(){return e.apply(this,arguments)||this}return j(t,e),t.prototype.createCesiumElement=function(e){return new n.CustomDataSource(e.name)},t}(G);N.PropTypes=F({},G.propTypes),N.cesiumProps=G.cesiumProps.concat(),N.cesiumEvents=G.cesiumEvents.concat();var Z=function(e){function t(){return e.apply(this,arguments)||this}j(t,e);var r=t.prototype;return r.createCesiumElement=function(e){return new n.CzmlDataSource(e.name)},r.mountCesiumElement=function(){this._load()},r.updateCesiumElement=function(e,n){var t=this.props,r=t.czml,o=t.url;r===n.czml&&o===n.url||this._load()},r._load=function(){var e=this,n=this.props,t=n.czml,r=n.onError,o=n.onLoad,i=n.onProgress,a=n.query,s=n.sourceUri,u=n.url;(t||u)&&this.cesiumElement.load(t||u,{sourceUri:s,query:a}).then(function(){try{o&&o.apply(void 0,arguments)}catch(e){throw console.error(e),e}e.parent.add(arguments.length<=0?void 0:arguments[0])},r,i)},t}(G);Z.propTypes=F({},G.propTypes,{czml:t.oneOfType([t.object,t.arrayOf(t.object)]),onError:t.func,onLoad:t.func,onProgress:t.func,query:t.object,sourceUri:t.string,url:t.string}),Z.cesiumProps=G.cesiumProps.concat(),Z.cesiumEvents=G.cesiumEvents.concat();var J=function(e){function t(){return e.apply(this,arguments)||this}j(t,e);var r=t.prototype;return r.createCesiumElement=function(e){return new n.GeoJsonDataSource(e.name)},r.mountCesiumElement=function(){this._load()},r.updateCesiumElement=function(e,n){var t=this.props,r=t.data,o=t.url;r===n.data&&o===n.url||this._load()},r._load=function(){var e=this,n=this.props,t=n.clampToGround,r=n.data,o=n.describe,i=n.fill,a=n.markerColor,s=n.markerSize,u=n.markerSymbol,c=n.onError,l=n.onLoad,p=n.onProgress,m=n.sourceUri,d=n.stroke,y=n.strokeWidth,h=n.url;(r||h)&&this.cesiumElement.load(r||h,{clampToGround:t,describe:o,fill:i,markerColor:a,markerSize:s,markerSymbol:u,stroke:d,strokeWidth:y,sourceUri:m}).then(function(){try{l&&l.apply(void 0,arguments)}catch(e){throw console.error(e),e}e.parent.add(arguments.length<=0?void 0:arguments[0])},c,p)},t}(G);J.propTypes=F({},G.propTypes,{clampToGround:t.bool,data:t.object,describe:t.any,fill:t.any,markerColor:t.any,markerSize:t.number,markerSymbol:t.string,onError:t.func,onLoad:t.func,onProgress:t.func,sourceUri:t.string,stroke:t.any,strokeWidth:t.number,url:t.string}),J.cesiumProps=G.cesiumProps.concat(),J.cesiumEvents=G.cesiumEvents.concat();var K=function(e){function t(){return e.apply(this,arguments)||this}j(t,e);var r=t.prototype;return r.createCesiumElement=function(e){var t=this.props.scene;return new n.KmlDataSource({camera:e.camera||(t?t.camera:void 0),canvas:e.canvas||(t?t.canvas:void 0),proxy:e.proxy})},r.mountCesiumElement=function(){this._load()},r.updateCesiumElement=function(e,n){var t=this.props,r=t.data,o=t.url;r===n.data&&o===n.url||this._load()},r._load=function(){var e=this,n=this.props,t=n.clampToGround,r=n.data,o=n.query,i=n.onError,a=n.onLoad,s=n.onProgress,u=n.sourceUri,c=n.url;(r||c)&&this.cesiumElement.load(r||c,{clampToGround:t,query:o,sourceUri:u}).then(function(){try{a&&a.apply(void 0,arguments)}catch(e){throw console.error(e),e}e.parent.add(arguments.length<=0?void 0:arguments[0])},i,s)},t}(G);K.propTypes=F({},G.propTypes,{clampToGround:t.bool,data:t.any,onError:t.func,onLoad:t.func,onProgress:t.func,onRefresh:t.func,onUnsupportedNode:t.func,query:t.object,sourceUri:t.string,url:t.string}),K.cesiumProps=G.cesiumProps.concat(),K.cesiumReadonlyProps=["camera","canvas","proxy"],K.cesiumEvents=G.cesiumEvents.concat(["refreshEvent","unsupportedNodeEvent"]);var $=function(e){function t(){return e.apply(this,arguments)||this}j(t,e);var r=t.prototype;return r.createCesiumElement=function(e){return new n.Primitive(e)},r.mountCesiumElement=function(e){this.props.primitiveCollection.add(e)},r.destroyCesiumElement=function(e){var n=this.props.primitiveCollection;n&&n.remove(e)},t}(W);$.propTypes=F({},W.propTypes,{allowPicking:t.any,appearance:t.any,asynchronous:t.bool,compressVertices:t.bool,cull:t.bool,debugShowBoundingVolume:t.bool,depthFailAppearance:t.any,geometryInstances:t.any,interleave:t.bool,modelMatrix:t.any,releaseGeometryInstances:t.bool,shadows:t.any,show:t.bool}),$.cesiumProps=["allowPicking","appearance","cull","debugShowBoundingVolume","depthFailAppearance","modelMatrix","shadows","show"],$.cesiumReadOnlyProps=["asynchronous","compressVertices","geometryInstances","interleave","releaseGeometryInstances"];var Q=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).initialOptions=null,n}j(n,e);var t=n.prototype;return t.createCesiumElement=function(e){return this.initialOptions=e,null},t.mountCesiumElement=function(){this.cesiumElement=this.props.primitives.add(this.initialOptions)},t.destroyCesiumElement=function(e){var n=this.props.primitives;n&&!n.isDestroyed()&&e&&n.remove(e),this.initialOptions=null},n}(W);Q.propTypes=F({},W.propTypes,{color:t.any,disableDepthTestDistance:t.number,distanceDisplayCondition:t.any,id:t.any,outlineColor:t.any,outlineWidth:t.number,pixelSize:t.number,position:t.any,scaleByDistance:t.any,show:t.bool,translucencyByDistance:t.any}),Q.cesiumProps=["color","disableDepthTestDistance","distanceDisplayCondition","id","outlineColor","outlineWidth","pixelSize","position","scaleByDistance","show","translucencyByDistance"];var X=function(e){function t(){return e.apply(this,arguments)||this}j(t,e);var r=t.prototype;return r.createCesiumElement=function(e){return new n.PointPrimitiveCollection(e)},r.mountCesiumElement=function(e){this.props.primitiveCollection.add(e)},r.destroyCesiumElement=function(e){this.props.primitiveCollection;primitives&&!primitives.isDestroyed()&&p.remove(e),e.isDestroyed()||e.destroy()},r.render=function(){return React.createElement(P.Provider,{value:this.cesiumElement},this.props.children)},t}(W);X.propTypes=F({},W.propTypes,{blendOption:t.any,debugShowBoundingVolume:t.bool,modelMatrix:t.any}),X.cesiumProps=["blendOption","debugShowBoundingVolume","modelMatrix"];var Y=function(e){function n(){return e.apply(this,arguments)||this}j(n,e);var t=n.prototype;return t.componentDidMount=function(){var e=this.props,n=e.screenSpaceEventHandler,t=e.action,r=e.modifier,o=e.type;t?n.setInputAction(t,o,r):n.removeInputAction(o,r)},t.componentDidUpdate=function(e){this.props.screenSpaceEventHandler.removeInputAction(e.type,e.modifier),this.componentDidMount()},t.componentWillUnmount=function(){var e=this.props,n=e.screenSpaceEventHandler,t=e.action,r=e.modifier,o=e.type;n&&!n.isDestroyed()&&t&&n.removeInputAction(o,r)},t.render=function(){return null},n}(r.PureComponent);Y.propTypes={action:t.func,modifier:t.number,type:t.number.isRequired};var ee=function(e){function t(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this)._useDefault=!1,n}j(t,e);var o=t.prototype;return o.createCesiumElement=function(){return this.props.useDefault?(this._useDefault=!0,this.props.cesiumWidget.screenSpaceEventHandler):new n.ScreenSpaceEventHandler(this.parent.canvas)},o.destroyCesiumElement=function(e){this._useDefault||e.destroy()},o.render=function(){return r.createElement(O.Provider,{value:this.cesiumElement},this.props.children)},M(t,[{key:"parent",get:function(){var e=this.props.scene;return e&&!e.isDestroyed()?e:null}}]),t}(W);ee.propTypes=F({},W.propTypes,{useDefault:t.bool});var ne=function(e){return r.createElement(E.Consumer,null,function(n){return r.createElement(D.Consumer,null,function(t){return r.createElement(ee,L({},e,{scene:t,cesiumWidget:n.cesiumWidget}))},"}")})},te=function(e){function t(){return e.apply(this,arguments)||this}j(t,e);var r=t.prototype;return r.createCesiumElement=function(e){var t=e.imageryProvider,r=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,["imageryProvider"]);return new n.ImageryLayer(t,r)},r.mountCesiumElement=function(e){this.parent.add(e)},r.destroyCesiumElement=function(e){var n=this.parent;n&&n.remove(e)},M(t,[{key:"parent",get:function(){var e=this.props.scene;return e&&!e.isDestroyed()?e.imageryLayers:null}}]),t}(W);te.propTypes=F({},W.propTypes,{availability:t.any,billboard:t.any,box:t.any,corridor:t.any,cylinder:t.any,description:t.any,ellipse:t.any,ellipsoid:t.any,id:t.string,label:t.any,model:t.any,name:t.any,onDefinitionChanged:t.func,orientation:t.any,parent:t.any,path:t.any,plane:t.any,point:t.any,polygon:t.any,polyline:t.any,polylineVolume:t.any,position:t.any,properties:t.any,rectangle:t.any,show:t.any,viewFrom:t.any,wall:t.any}),te.cesiumProps=["alpha","brightness","contrast","hue","saturation","gamma","splitDirection","minificationFilter","magnificationFilter","show"],te.cesiumReadOnlyProps=["imageryProvider","rectangle","maximumAnisotropy","minimumTerrainLevel","maximumTerrainLevel"],te.cesiumEvents=["definitionChanged"];var re=function(e){function n(){return e.apply(this,arguments)||this}j(n,e);var t=n.prototype;return t.componentDidMount=function(){this.cameraOperationStart(this.camera)},t.componentDidUpdate=function(){this.camera.cancelFlight(),this.cameraOperationStart(this.camera)},t.componentWillUnmount=function(){this.props.cancelCameraFlight&&this.camera.cancelFlight()},t.render=function(){return null},n}(r.PureComponent);re.propTypes={cancelCameraFlight:t.bool};var oe=function(e){return r.createElement(D.Consumer,null,function(n){return r.createElement(C.Consumer,null,function(t){return r.createElement(re,L({},e,{camera:t||n.camera}))})})},ie=function(e){function n(){return e.apply(this,arguments)||this}return j(n,e),n.prototype.cameraOperationStart=function(e){var n=this.props.duration;e.flyHome(n)},n}(oe);ie.propTypes=F({},oe.propTypes,{duration:t.number});var ae=function(e){function n(){return e.apply(this,arguments)||this}return j(n,e),n.prototype.cameraOperationStart=function(e){var n=this.props,t=n.destination,r=n.orientation,o=n.duration,i=n.onComplete,a=n.onCancel,s=n.endTransform,u=n.maximumHeight,c=n.pitchAdjustHeight,l=n.flyOverLongitude,p=n.flyOverLongitudeWeight,m=n.easingFunction;e.flyTo({destination:t,orientation:r,duration:o,complete:i,cancel:a,endTransform:s,maximumHeight:u,pitchAdjustHeight:c,flyOverLongitude:l,flyOverLongitudeWeight:p,easingFunction:m})},n}(oe);ae.propTypes=F({},oe.propTypes,{destination:t.any.isRequired,duration:t.number,easingFunction:t.any,endTransform:t.any,flyOverLongitude:t.number,flyOverLongitudeWeight:t.number,maximumHeight:t.number,onCancel:t.func,onComplete:t.func,orientation:t.object,pitchAdjustHeight:t.number});var se=function(e){function n(){return e.apply(this,arguments)||this}return j(n,e),n.prototype.cameraOperationStart=function(e){var n=this.props,t=n.boundingSphere,r=n.offset,o=n.duration,i=n.onComplete,a=n.onCancel,s=n.endTransform,u=n.maximumHeight,c=n.pitchAdjustHeight,l=n.flyOverLongitude,p=n.flyOverLongitudeWeight,m=n.easingFunction;e.flyToBoundingSphere(t,{offset:r,duration:o,complete:i,cancel:a,endTransform:s,maximumHeight:u,pitchAdjustHeight:c,flyOverLongitude:l,flyOverLongitudeWeight:p,easingFunction:m})},n}(oe);se.propTypes=F({},oe.propTypes,{boundingSphere:t.any.isRequired,duration:t.number,easingFunction:t.any,endTransform:t.any,flyOverLongitude:t.number,flyOverLongitudeWeight:t.number,maximumHeight:t.number,offset:t.any,onCancel:t.func,onComplete:t.func,pitchAdjustHeight:t.number});var ue=function(e){function t(){return e.apply(this,arguments)||this}j(t,e);var o=t.prototype;return o.createCesiumElement=function(e){return new n.Cesium3DTileset(e)},o.mountCesiumElement=function(e){this.props.scene.primitives.add(e)},o.destroyCesiumElement=function(e){var n=this.props.scene.primitives;n&&n.remove(e)},o.render=function(){return r.createElement(g.Provider,{value:this.cesiumElement},this.props.children)},t}(W);ue.propTypes={url:t.any,show:t.bool,maximumScreenSpaceError:t.number,maximumMemoryUsage:t.number,cullWithChildrenBounds:t.bool,dynamicScreenSpaceError:t.bool,dynamicScreenSpaceErrorDensity:t.number,dynamicScreenSpaceErrorFactor:t.number,dynamicScreenSpaceErrorHeightFalloff:t.number,skipLevelOfDetail:t.bool,baseScreenSpaceError:t.number,skipScreenSpaceErrorFactor:t.number,skipLevels:t.number,immediatelyLoadDesiredLevelOfDetail:t.bool,loadSiblings:t.bool,debugFreezeFrame:t.bool,debugColorizeTiles:t.bool,debugWireframe:t.bool,debugShowBoundingVolume:t.bool,debugShowContentBoundingVolume:t.bool,debugShowViewerRequestVolume:t.bool,debugShowGeometricError:t.bool,debugShowRenderingStatistics:t.bool,debugShowMemoryUsage:t.bool,debugShowUrl:t.bool,pointCloudShading:t.object},ue.contextTypes={primitiveCollection:d,scene:y,viewer:f},ue.cesiumProps=["url","show","maximumScreenSpaceError","maximumMemoryUsage","cullWithChildrenBounds","dynamicScreenSpaceError","dynamicScreenSpaceErrorDensity","dynamicScreenSpaceErrorFactor","dynamicScreenSpaceErrorHeightFalloff","skipLevelOfDetail","baseScreenSpaceError","skipScreenSpaceErrorFactor","skipLevels","immediatelyLoadDesiredLevelOfDetail","loadSiblings","debugFreezeFrame","debugColorizeTiles","debugWireframe","debugShowBoundingVolume","debugShowContentBoundingVolume","debugShowViewerRequestVolume","debugShowGeometricError","debugShowRenderingStatistics","debugShowMemoryUsage","debugShowUrl","pointCloudShading"],ue.cesiumReadOnlyProps=["asset","basePath","boundingSphere","properties","ready","readyPromise","tilesLoaded","timeSinceLoad","totalMemoryUsageInBytes"],ue.cesiumEvents=["allTilesLoaded","loadProgress","tileFailed","tileLoad","tileUnload","tileVisible"];e.PropTypes=v,e.CesiumContext=k,e.Viewer=_,e.CesiumWidget=U,e.Scene=H,e.Camera=function(e){return React.createElement(D.Consumer,null,function(n){return React.createElement(I,L({},e,{scene:n}))})},e.Entity=function(e){return r.createElement(w.Consumer,null,function(n){return r.createElement(z,L({},e,{entities:n}))})},e.DataSource=G,e.CustomDataSource=N,e.CzmlDataSource=Z,e.GeoJsonDataSource=J,e.KmlDataSource=function(e){return React.createElement(D.Consumer,null,function(n){return React.createElement(K,L({},e,{scene:n}))})},e.Primitive=function(e){return React.createElement(D.Consumer,null,function(n){return React.createElement(T.Consumer,null,function(t){return React.createElement($,L({},e,{primitiveCollection:t||n.primitives}))})})},e.PointPrimitive=function(e){return React.createElement(P.Consumer,null,function(n){return React.createElement(PointPrimitiveCollection,L({},e,{primitives:n}))})},e.PointPrimitiveCollection=function(e){return React.createElement(D.Consumer,null,function(n){return React.createElement(T.Consumer,null,function(t){return React.createElement(X,L({},e,{primitiveCollection:t||n.primitives}))})})},e.ScreenSpaceEvent=function(e){return r.createElement(O.Consumer,null,function(n){return r.createElement(Y,L({},e,{screenSpaceEventHandler:n}))})},e.ScreenSpaceEventHandler=ne,e.ScreenSpaceCameraController=ne,e.ImageryLayer=function(e){return React.createElement(D.Consumer,null,function(n){return React.createElement(te,L({},e,{scene:n}))})},e.CameraOperation=oe,e.CameraFlyHome=ie,e.CameraFlyTo=ae,e.CameraFlyToBoundingSphere=se,e.Cesium3DTileset=function(e){return r.createElement(D.Consumer,null,function(n){return r.createElement(ue,L({},e,{scene:n}))})},Object.defineProperty(e,"__esModule",{value:!0})});
